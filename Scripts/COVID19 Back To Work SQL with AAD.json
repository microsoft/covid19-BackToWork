{
 "name": "COVID19 Back To Work SQL with AAD",
 "id": "5ae63d42-4862-4b36-8fc8-378d9aec6e78",
 "scenario_trigger": "covid19_backToWork_sql_AAD",
 "description": "SQL Azure AD template with Web + Teams: Daily screening of employees/workers/students to determine if they are clear to return to workplace",
 "active": true,
 "updated": "2020-06-20T01:04:08.6350000Z",
 "userDisplayName": "Nikita Pitliya",
 "code": "{\"version\":3,\"steps\":[{\"id\":\"a9e81aa8f98b-ecf5f5ff2fb724a9-3c18\",\"type\":\"action\",\"label\":\"Initialize\",\"designer\":{\"xLocation\":560,\"yLocation\":0,\"next\":\"6c0cc064506e-f024ae48818ab630-d042\"},\"onInit\":\"// Scenario thresholds \\n// ** CUSTOMER CAN SET NEW VALUES ACCORDING TO OWN POLICIES **\\nscenario.quarantineDays = 14; // numer of days from eposed to COVID-19, before you are allowed to go back to work\\nscenario.validTestDays = 2;   // number of days a negative test is valid\\nscenario.symptomFreeDays = 3; // number of days with no symptoms,  before you are allowed to go back to work\\n\\n//Initialize required variables\\nscenario.dateOfEntry = new Date();\\nscenario.exposureDetails = { exposuredate:null }\\nscenario.testDetails = { testDate:null }\\nscenario.symptomBit = {\\n    Fever:0, Cough:0, ShortnessOfBreath:0, Chills:0, MusclePain:0, SoreThroat:0, LossOfSmellTaste:0, Vomiting:0, Diarrhea:0\\n};\\nscenario.UserIsSymptomatic = 0;\\nscenario.finalQuarantineDay = false;\\nscenario.hasValidTestReport = 0;\\n\\n// support Teams integration, take team's user identification\\nscenario.isTeams =session.message.address.channelId === \\\"msteams\\\";\\n\"},{\"id\":\"7c6bf2a495d3-fb2521936b683020-12ad\",\"type\":\"prompt\",\"dataType\":\"[customLocalizedStrings[\\\"sql_back_to_work_Yes\\\"], customLocalizedStrings[\\\"sql_back_to_work_No\\\"]]\",\"designer\":{\"xLocation\":550,\"yLocation\":2253,\"listStyle\":3,\"next\":\"02eaba98fcbf-1c9d7ae9425f32da-4369\"},\"text\":\"customLocalizedStrings[\\\"sql_back_to_work_question_testedRecentlyPart1\\\"] + \\\" \\\" + scenario.validTestDays +\\\" \\\"+ customLocalizedStrings[\\\"sql_back_to_work_question_testedRecentlyPart2\\\"]\",\"variable\":\"tested\",\"submitTitle\":\"Submit\",\"label\":\"Tested Recently\",\"stringId\":\"stringId_eab10fa48d4c6563\",\"choiceType\":\"choice\"},{\"id\":\"856040320d25-fa50d7986ad0ca80-c69d\",\"type\":\"statement\",\"designer\":{\"xLocation\":340,\"yLocation\":2140},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n\\t\\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n\\t\\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n\\t\\\"version\\\": \\\"1.0\\\",\\r\\n\\t\\\"body\\\": [{\\r\\n\\t\\t\\\"type\\\": \\\"Container\\\",\\r\\n\\t\\t\\\"bleed\\\": true,\\r\\n\\t\\t\\\"items\\\": [{\\r\\n\\t\\t\\t\\t\\\"type\\\": \\\"ColumnSet\\\",\\r\\n\\t\\t\\t\\t\\\"columns\\\": [{\\r\\n\\t\\t\\t\\t\\t\\t\\\"type\\\": \\\"Column\\\",\\r\\n\\t\\t\\t\\t\\t\\t\\\"width\\\": \\\"stretch\\\",\\r\\n\\t\\t\\t\\t\\t\\t\\\"items\\\": [{\\r\\n\\t\\t\\t\\t\\t\\t\\t\\\"type\\\": \\\"TextBlock\\\",\\r\\n\\t\\t\\t\\t\\t\\t\\t\\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_ok\\\"],\\r\\n\\t\\t\\t\\t\\t\\t\\t\\\"weight\\\": \\\"Bolder\\\",\\r\\n\\t\\t\\t\\t\\t\\t\\t\\\"size\\\": \\\"Medium\\\"\\r\\n\\t\\t\\t\\t\\t\\t}]\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t]\\r\\n\\t\\t\\t},            \\r\\n\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\\"type\\\": \\\"TextBlock\\\",\\r\\n\\t\\t\\t\\t\\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_okSafe\\\"],\\r\\n\\t\\t\\t\\t\\\"wrap\\\": true\\r\\n\\t\\t\\t}\\r\\n\\t\\t],\\r\\n\\t\\t\\\"spacing\\\": \\\"Medium\\\"\\r\\n\\t}]\\r\\n}\"}],\"label\":\"OK\"},{\"id\":\"e54e97d5f13f-8ba39779bf4ddc10-183d\",\"type\":\"statement\",\"designer\":{\"xLocation\":553,\"yLocation\":107,\"next\":\"b29cdc03818a-c70a81c5069d9fdb-ff3d\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_welcome\\\"] + \\\"  \\\\n  \\\" + customLocalizedStrings[\\\"back_to_work_welcomePart2\\\"]\",\"stringId\":\"stringId_1c3944e2b05abb98\",\"label\":\"Welcome\"},{\"id\":\"b263e90b1704-75861bd614223040-1336\",\"type\":\"prompt\",\"dataType\":\"[customLocalizedStrings[\\\"sql_back_to_work_question_Yes\\\"], customLocalizedStrings[\\\"sql_back_to_work_question_No\\\"]]\",\"designer\":{\"xLocation\":700,\"yLocation\":1054,\"listStyle\":3,\"next\":\"6cbf7448a1c0-31aa7256a70032cf-d615\"},\"text\":\"customLocalizedStrings[\\\"sql_back_to_work_question_Covid19Expose\\\"]\",\"variable\":\"isExposedbtn\",\"stringId\":\"stringId_cb295159735b20e8\",\"choiceType\":\"choice\",\"label\":\"Exposure\"},{\"id\":\"1f392eedf30d-48e6560f7f406848-2839\",\"type\":\"prompt\",\"dataType\":\"object\",\"designer\":{\"xLocation\":560,\"yLocation\":1712,\"next\":\"24158ddc7667-b8f76e387130aaf6-a934\"},\"variable\":\"secondarySymptoms\",\"submitTitle\":\"Submit\",\"stringId\":\"stringId_637040fd8feae2da\",\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_question_Symptoms\\\"],\\r\\n            \\\"wrap\\\": true,\\r\\n            \\\"horizontalAlignment\\\": \\\"Left\\\",\\r\\n            \\\"size\\\": \\\"Medium\\\",\\r\\n            \\\"weight\\\": \\\"Bolder\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_question_Select\\\"],\\r\\n            \\\"size\\\": \\\"Medium\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"sql_back_to_work_input_Chills\\\"],\\r\\n            \\\"id\\\": \\\"Chills\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"sql_back_to_work_input_MusclePain\\\"],\\r\\n            \\\"id\\\": \\\"MusclePain\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"sql_back_to_work_input_SoreThroat\\\"],\\r\\n            \\\"id\\\": \\\"SoreThroat\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"sql_back_to_work_input_lossSmellTaste\\\"],\\r\\n            \\\"id\\\": \\\"LossOfSmellTaste\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"sql_back_to_work_input_Vomiting\\\"],\\r\\n            \\\"id\\\": \\\"Vomiting\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"sql_back_to_work_input_Diarrhea\\\"],\\r\\n            \\\"id\\\": \\\"Diarrhea\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        }\\r\\n    ],\\r\\n    \\\"actions\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"sql_back_to_work_Submit\\\"]\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"Secondary Symptoms\"},{\"id\":\"9d7c47037737-08bcc9620f1150fe-3080\",\"type\":\"prompt\",\"dataType\":\"object\",\"designer\":{\"xLocation\":571,\"yLocation\":1492,\"next\":\"9e68b46a8a6b-3697312c31e55b6a-7127\"},\"variable\":\"symptoms\",\"submitTitle\":\"Submit\",\"stringId\":\"stringId_9895c809ce9ddc5a\",\"layout\":\"vertical\",\"label\":\"Symptoms\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_question_Symptoms\\\"],\\r\\n            \\\"wrap\\\": true,\\r\\n            \\\"horizontalAlignment\\\": \\\"Left\\\",\\r\\n            \\\"size\\\": \\\"Medium\\\",\\r\\n            \\\"weight\\\": \\\"Bolder\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_question_Select\\\"],\\r\\n            \\\"size\\\": \\\"Medium\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"sql_back_to_work_input_Fever\\\"],\\r\\n            \\\"id\\\": \\\"Fever\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"sql_back_to_work_input_Cough\\\"],\\r\\n            \\\"id\\\": \\\"Cough\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"Input.Toggle\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"sql_back_to_work_input_ShortnessOfBreath\\\"],\\r\\n            \\\"id\\\": \\\"ShortnessOfBreath\\\",\\r\\n            \\\"wrap\\\": false,\\r\\n            \\\"value\\\": \\\"false\\\"\\r\\n        }\\r\\n    ],\\r\\n    \\\"actions\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n            \\\"title\\\": customLocalizedStrings[\\\"sql_back_to_work_Submit\\\"]\\r\\n        }\\r\\n    ]\\r\\n}\"}]},{\"id\":\"98e7275cf98e-7cb337657e28a8e8-d65b\",\"type\":\"branch\",\"condition\":\"scenario.symptomBit.Fever\",\"designer\":{\"xLocation\":586,\"yLocation\":1610,\"next\":\"1f392eedf30d-48e6560f7f406848-2839\"},\"label\":\"Fever\",\"targetStepId\":\"bba795526ac8-9b61dda20a184949-a315\"},{\"id\":\"bba795526ac8-9b61dda20a184949-a315\",\"type\":\"prompt\",\"dataType\":\"number\",\"designer\":{\"xLocation\":648,\"yLocation\":1653,\"next\":\"1f392eedf30d-48e6560f7f406848-2839\"},\"text\":\"customLocalizedStrings[\\\"sql_back_to_work_question_Temperature\\\"]\",\"variable\":\"measuredTemperature\",\"submitTitle\":\"Submit\",\"stringId\":\"stringId_ce92a7f77f212a6d\",\"label\":\"Enter Temperature\"},{\"id\":\"2aa547cc03de-d77584e830c2421b-a3f7\",\"type\":\"branch\",\"condition\":\"scenario.isSymptomatic || scenario.isExposed\",\"designer\":{\"xLocation\":568,\"yLocation\":1869,\"next\":\"e17a69f7159a-9641815844c763cc-385e\"},\"label\":\"Symptomatic or Exposed\",\"targetStepId\":\"719c80407541-44a7b0ebf34ce554-d5de\"},{\"id\":\"24158ddc7667-b8f76e387130aaf6-a934\",\"type\":\"action\",\"label\":\"Secondary Symptoms\",\"designer\":{\"xLocation\":567,\"yLocation\":1760,\"next\":\"2aa547cc03de-d77584e830c2421b-a3f7\"},\"onInit\":\"//Do not reset scenario.isSymptomatic\\r\\nscenario.numberOfSelected = 0;\\r\\n\\r\\nif(scenario.secondarySymptoms.Chills.toLowerCase() === \\\"true\\\")\\r\\n{ \\r\\n    scenario.numberOfSelected = scenario.numberOfSelected + 1;\\r\\n    scenario.symptomBit.Chills = 1; \\r\\n}\\r\\nif(scenario.secondarySymptoms.MusclePain.toLowerCase() === \\\"true\\\")\\r\\n{   \\r\\n    scenario.numberOfSelected = scenario.numberOfSelected + 1;\\r\\n    scenario.symptomBit.MusclePain = 1; \\r\\n}\\r\\nif(scenario.secondarySymptoms.SoreThroat.toLowerCase() === \\\"true\\\")\\r\\n{   \\r\\n    scenario.numberOfSelected = scenario.numberOfSelected + 1;\\r\\n    scenario.symptomBit.SoreThroat = 1; \\r\\n}\\r\\nif(scenario.secondarySymptoms.LossOfSmellTaste.toLowerCase() === \\\"true\\\")\\r\\n{ \\r\\n    scenario.numberOfSelected = scenario.numberOfSelected + 1;\\r\\n    scenario.symptomBit.LossOfSmellTaste = 1; \\r\\n}\\r\\nif(scenario.secondarySymptoms.Vomiting.toLowerCase() === \\\"true\\\")\\r\\n{ \\r\\n    scenario.numberOfSelected = scenario.numberOfSelected + 1;\\r\\n    scenario.symptomBit.Vomiting = 1; \\r\\n}\\r\\nif(scenario.secondarySymptoms.Diarrhea.toLowerCase() === \\\"true\\\")\\r\\n{ \\r\\n    scenario.numberOfSelected = scenario.numberOfSelected + 1;\\r\\n    scenario.symptomBit.Diarrhea = 1; \\r\\n}\\r\\n\\r\\n// isSymptomatic is 1 if two of the secondarySymptoms are true\\r\\nif(scenario.numberOfSelected >= 2){\\r\\n    scenario.isSymptomatic = 1;\\r\\n}\\r\\n\\r\\n\"},{\"id\":\"02eaba98fcbf-1c9d7ae9425f32da-4369\",\"type\":\"branch\",\"condition\":\"scenario.tested.index === 0\",\"designer\":{\"xLocation\":560,\"yLocation\":2292,\"next\":\"d225c35c1bae-19ab44ba38d94849-3fef\"},\"targetStepId\":\"8068cc6e6c41-60acb25977a76fa6-96c6\",\"label\":\"Tested\"},{\"id\":\"2f749d8f7166-513346155ff659e9-a742\",\"type\":\"prompt\",\"dataType\":\"[customLocalizedStrings[\\\"sql_back_to_work_Positive\\\"], customLocalizedStrings[\\\"sql_back_to_work_Negative\\\"], customLocalizedStrings[\\\"sql_back_to_work_DontKnow\\\"]]\",\"designer\":{\"xLocation\":649,\"yLocation\":2480,\"listStyle\":3,\"next\":\"850160118658-6c4b03c86413367c-560e\"},\"text\":\"customLocalizedStrings[\\\"sql_back_to_work_question_TestResults\\\"]\",\"variable\":\"testResult\",\"submitTitle\":\"Submit\",\"stringId\":\"stringId_d1de1408a3136c41\",\"choiceType\":\"choice\",\"label\":\"Test Result\"},{\"id\":\"850160118658-6c4b03c86413367c-560e\",\"type\":\"switch\",\"designer\":{\"xLocation\":628,\"yLocation\":2530},\"cases\":[{\"value\":\"0\",\"targetStepId\":\"728138c5684d-412bbe2d9568a980-8f1d\"},{\"value\":\"1\",\"targetStepId\":\"c410065a8741-5b15ba6150467a1c-f454\"},{\"value\":\"2\",\"targetStepId\":\"0475be8c85ac-86d424853666e29d-3f67\"}],\"condition\":\"scenario.testResult.index\",\"label\":\"Test Result\"},{\"id\":\"541a175727fe-3756b199bfc9842e-fdc0\",\"type\":\"branch\",\"condition\":\"scenario.isExposed\",\"designer\":{\"xLocation\":631,\"yLocation\":1008,\"reverse\":true,\"next\":\"b263e90b1704-75861bd614223040-1336\"},\"label\":\"Already Exposed\",\"targetStepId\":\"8d1b3a3efa70-6eeacb350ffa7ba6-4b43\"},{\"id\":\"6c40798f0cb8-f3f7786ee90648ab-d820\",\"type\":\"switch\",\"designer\":{\"xLocation\":900,\"yLocation\":2252},\"cases\":[{\"value\":\"Positive\",\"targetStepId\":\"cf99f6ec3565-1863ba07ba3cb51d-5670\"},{\"value\":\"Negative\",\"targetStepId\":\"dd35b5535fe4-35d64a935de1ac24-7483\"},{\"value\":\"Testing\",\"targetStepId\":\"2f749d8f7166-513346155ff659e9-a742\"}],\"condition\":\"scenario.labTestInfo.TestResult \",\"label\":\"TestResult\"},{\"id\":\"c1fa3baf4764-a723295ed283e99c-001d\",\"type\":\"statement\",\"designer\":{\"xLocation\":700,\"yLocation\":2809},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Container\\\",\\r\\n            \\\"bleed\\\": true,\\r\\n            \\\"items\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"ColumnSet\\\",\\r\\n                    \\\"columns\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"stretch\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                                    \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_notOk\\\"],\\r\\n                                    \\\"weight\\\": \\\"Bolder\\\",\\r\\n                                    \\\"size\\\": \\\"Medium\\\"\\r\\n                                }\\r\\n                            ]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                    \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_notOkPositiveSymptom\\\"],\\r\\n                    \\\"wrap\\\": true\\r\\n                }\\r\\n            ],\\r\\n            \\\"spacing\\\": \\\"Medium\\\"\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"Not OK - Symptomatic + Positive\"},{\"id\":\"e17a69f7159a-9641815844c763cc-385e\",\"type\":\"branch\",\"condition\":\"scenario.hasValidTestReport\",\"designer\":{\"xLocation\":392,\"yLocation\":1940,\"reverse\":false,\"next\":\"842b792c1b58-36ae706f6a7c6e8c-cbbe\"},\"targetStepId\":\"c295597e1297-a41c4d4d785893a9-b8e4\",\"label\":\"Has Report (A-Symptomatic)\"},{\"id\":\"719c80407541-44a7b0ebf34ce554-d5de\",\"type\":\"branch\",\"condition\":\"scenario.hasValidTestReport\\r\\n\",\"designer\":{\"xLocation\":774,\"yLocation\":2170,\"next\":\"7c6bf2a495d3-fb2521936b683020-12ad\",\"reverse\":false},\"label\":\"Has Report (Symptomatic)\",\"targetStepId\":\"6c40798f0cb8-f3f7786ee90648ab-d820\"},{\"id\":\"c557c11d16b0-4a843bc1922cd9ef-665f\",\"type\":\"prompt\",\"dataType\":\"['I Agree','I Decline']\",\"designer\":{\"xLocation\":640,\"yLocation\":394,\"listStyle\":3,\"next\":\"e22c366f0e08-8e9a08a3ac771836-d902\"},\"text\":\"We are collecting assessment data and storing it for administrative purposes during COVID-19 crisis. \\r\\n\\r\\nWhen you agree to our Terms and Privacy Policy, we can continue with the Registration process.\",\"variable\":\"termsAccepted\",\"submitTitle\":\"Submit\",\"stringId\":\"stringId_6a676970e0048b72\",\"choiceType\":\"choice\",\"label\":\"Terms\"},{\"id\":\"e22c366f0e08-8e9a08a3ac771836-d902\",\"type\":\"branch\",\"condition\":\"scenario.termsAccepted.index == 0\",\"designer\":{\"xLocation\":652,\"yLocation\":440,\"next\":\"55b850e11d3a-376c2ef85d8ea1b5-37d5\"},\"targetStepId\":\"7b87b827d436-f740408176a95762-9d3a\",\"label\":\"TermsAccepted\"},{\"id\":\"55b850e11d3a-376c2ef85d8ea1b5-37d5\",\"type\":\"prompt\",\"dataType\":\"['Start over']\",\"designer\":{\"xLocation\":420,\"yLocation\":534,\"listStyle\":3,\"next\":\"267a77abe1ee-86c817cc45eb69c4-7d90\"},\"text\":\"In order to continue with Back to Work registration, you need to accept the Terms and Privacy policy.\",\"variable\":\"startOver\",\"submitTitle\":\"Submit\",\"suggestions\":\"['Start over']\",\"visible\":\"['Start over']\",\"stringId\":\"stringId_5b1c04968d3a02b0\",\"choiceType\":\"choice\",\"label\":\"Declined\"},{\"id\":\"92bd60240e29-f52d41623cdaf4bf-6190\",\"type\":\"datasource\",\"designer\":{\"xLocation\":488,\"yLocation\":193,\"next\":\"3d4ad55955d4-b0e5fd969adfe29e-95d5\"},\"dataConnection\":\"\",\"authenticationProvider\":\"AAD\",\"urlBase\":\"'https://graph.microsoft.com/v1.0/me/'\",\"urlPath\":\"\",\"urlParams\":\"\",\"method\":\"get\",\"headers\":\"{\\r\\n    \\\"Content-Type\\\":\\\"application/json\\\"\\r\\n}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"userProfile\",\"error\":\"userProfileError\",\"label\":\"AAD Login\"},{\"id\":\"3d4ad55955d4-b0e5fd969adfe29e-95d5\",\"type\":\"action\",\"label\":\"AAD details\",\"designer\":{\"xLocation\":487,\"yLocation\":240,\"next\":\"7e83b0c59ee5-35ede7f0f650db9c-69dc\"},\"onInit\":\"scenario.uniqueId = scenario.userProfile.id;\\nscenario.userName = scenario.userProfile.displayName;\\nscenario.teamsAddress = scenario.userProfile.email;\"},{\"id\":\"267a77abe1ee-86c817cc45eb69c4-7d90\",\"type\":\"branch\",\"condition\":\"scenario.startOver.entity === \\\"Start over\\\"\",\"designer\":{\"xLocation\":280,\"yLocation\":60},\"targetStepId\":\"a9e81aa8f98b-ecf5f5ff2fb724a9-3c18\",\"label\":\"StartOver\"},{\"id\":\"7b87b827d436-f740408176a95762-9d3a\",\"type\":\"prompt\",\"dataType\":\"object\",\"designer\":{\"xLocation\":712,\"yLocation\":520,\"next\":\"b8661d37d737-9968831de0835cb6-aa92\"},\"variable\":\"userProfile\",\"submitTitle\":\"Submit\",\"stringId\":\"\",\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"TextBlock\\\",\\r\\n            \\\"text\\\": \\\"Please enter the details:\\\",\\r\\n            \\\"id\\\": \\\"medications\\\",\\r\\n            \\\"wrap\\\": true,\\r\\n            \\\"horizontalAlignment\\\": \\\"Left\\\",\\r\\n            \\\"size\\\": \\\"Medium\\\",\\r\\n            \\\"weight\\\": \\\"Bolder\\\"\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"ColumnSet\\\",\\r\\n            \\\"columns\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"TextBlock\\\",\\r\\n                            \\\"text\\\": \\\"Full Name\\\"\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Input.Text\\\",\\r\\n                            \\\"value\\\": scenario.userProfile.displayName,\\r\\n                            \\\"style\\\": \\\"text\\\",\\r\\n                            \\\"id\\\": \\\"displayName\\\"\\r\\n                        }\\r\\n                    ]\\r\\n                }\\r\\n            ]\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"ColumnSet\\\",\\r\\n            \\\"columns\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"TextBlock\\\",\\r\\n                            \\\"text\\\": \\\"Role \\\"\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Input.Text\\\",\\r\\n                            \\\"style\\\": \\\"text\\\",\\r\\n                            \\\"value\\\": scenario.userProfile.jobTitle,\\r\\n                            \\\"id\\\": \\\"role\\\"\\r\\n                        }\\r\\n                    ]\\r\\n                }\\r\\n            ]\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"ColumnSet\\\",\\r\\n            \\\"columns\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"TextBlock\\\",\\r\\n                            \\\"text\\\": \\\"Email \\\"\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Input.Text\\\",\\r\\n                            \\\"style\\\": \\\"text\\\",\\r\\n                            \\\"value\\\": scenario.userProfile.userPrincipalName,\\r\\n                            \\\"id\\\": \\\"email\\\"\\r\\n                        }\\r\\n                    ]\\r\\n                }\\r\\n            ]\\r\\n        },\\r\\n        {\\r\\n            \\\"type\\\": \\\"ColumnSet\\\",\\r\\n            \\\"columns\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"TextBlock\\\",\\r\\n                            \\\"text\\\": \\\"Mobile \\\"\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"Column\\\",\\r\\n                    \\\"width\\\": \\\"stretch\\\",\\r\\n                    \\\"items\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Input.Text\\\",\\r\\n                            \\\"style\\\": \\\"text\\\",\\r\\n                            \\\"value\\\": scenario.userProfile.mobilePhone,\\r\\n                            \\\"id\\\": \\\"mobile\\\"\\r\\n                        }\\r\\n                    ]\\r\\n                }\\r\\n            ]\\r\\n        }        \\r\\n    ],\\r\\n    \\\"actions\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Action.Submit\\\",\\r\\n            \\\"title\\\": \\\"Submit\\\"\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"Get user profile\"},{\"id\":\"f28dcc0bab8f-6189cd1ba64347a7-1092\",\"type\":\"statement\",\"designer\":{\"xLocation\":620,\"yLocation\":560,\"next\":\"7b87b827d436-f740408176a95762-9d3a\"},\"text\":\"customLocalizedStrings[\\\"sql_back_to_work_input_AllFields\\\"]\",\"stringId\":\"stringId_dee070a638f6c42f\",\"label\":\"Fill all fields\"},{\"id\":\"b8661d37d737-9968831de0835cb6-aa92\",\"type\":\"branch\",\"condition\":\"scenario.userProfile.id != \\\"\\\"\\r\\n\",\"designer\":{\"xLocation\":720,\"yLocation\":580,\"next\":\"f28dcc0bab8f-6189cd1ba64347a7-1092\"},\"label\":\"Required Fields\",\"targetStepId\":\"121b4ed83d05-f009b30bd232d973-6762\"},{\"id\":\"2c2419f1cd53-ec00973cbc0712bb-44e1\",\"type\":\"prompt\",\"dataType\":\"object\",\"designer\":{\"xLocation\":807,\"yLocation\":1214,\"next\":\"75915fd0f809-dc9a2fc1218131fc-24bf\"},\"variable\":\"exposureDetails\",\"stringId\":\"stringId_d27596e1ef098091\",\"label\":\"ExposureDetails\",\"submitTitle\":\"\\\"Submit\\\"\",\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n  \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n  \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n  \\\"version\\\": \\\"1.0\\\",\\r\\n  \\\"body\\\": [\\r\\n    {\\r\\n      \\\"type\\\": \\\"TextBlock\\\",\\r\\n      \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_question_ExposedDate\\\"],\\r\\n      \\\"wrap\\\":true\\r\\n    },\\r\\n    {\\r\\n      \\\"type\\\": \\\"Input.Date\\\",\\r\\n      \\\"id\\\": \\\"exposuredate\\\",\\r\\n      \\\"value\\\": \\\"\\\"\\r\\n    }\\r\\n  ],\\r\\n  \\\"actions\\\": [\\r\\n    {\\r\\n      \\\"type\\\": \\\"Action.Submit\\\",\\r\\n      \\\"title\\\": customLocalizedStrings[\\\"sql_back_to_work_Submit\\\"]\\r\\n    }\\r\\n  ]\\r\\n}\\r\\n\"}]},{\"id\":\"032b5df2d815-14090dddef282916-6374\",\"type\":\"branch\",\"condition\":\"scenario.isExposed\",\"designer\":{\"xLocation\":752,\"yLocation\":1160,\"next\":\"9d7c47037737-08bcc9620f1150fe-3080\"},\"targetStepId\":\"2c2419f1cd53-ec00973cbc0712bb-44e1\",\"label\":\"Is Exposed\"},{\"id\":\"4b76b720c3fd-34658a7adf207c62-8b49\",\"type\":\"statement\",\"designer\":{\"xLocation\":880,\"yLocation\":1166,\"next\":\"2c2419f1cd53-ec00973cbc0712bb-44e1\"},\"text\":\"customLocalizedStrings[\\\"back_to_work_input_Date\\\"]\",\"stringId\":\"stringId_ffbe2165fa971e26\",\"label\":\"Fill all fields\"},{\"id\":\"75915fd0f809-dc9a2fc1218131fc-24bf\",\"type\":\"branch\",\"condition\":\"scenario.exposureDetails.exposuredate == \\\"\\\" \",\"designer\":{\"xLocation\":900,\"yLocation\":1252,\"next\":\"55270e4272b7-9fe5cd66a6df4175-37b2\",\"reverse\":false},\"targetStepId\":\"4b76b720c3fd-34658a7adf207c62-8b49\",\"label\":\"Empty Required fields\"},{\"id\":\"086fa067862e-281017d6be482ea9-3fae\",\"type\":\"statement\",\"designer\":{\"xLocation\":820,\"yLocation\":2809},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Container\\\",\\r\\n            \\\"bleed\\\": true,\\r\\n            \\\"items\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"ColumnSet\\\",\\r\\n                    \\\"columns\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"stretch\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                                    \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_notOk\\\"],\\r\\n                                    \\\"weight\\\": \\\"Bolder\\\",\\r\\n                                    \\\"size\\\": \\\"Medium\\\"\\r\\n                                }\\r\\n                            ]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                    \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_notOkSymptomNegativePart1\\\"] + \\\" \\\" + scenario.symptomFreeDays + \\\" \\\" + customLocalizedStrings[\\\"sql_back_to_work_result_notOkSymptomNegativePart2\\\"] + \\\" \\\" + scenario.quarantineDays + \\\" \\\" + customLocalizedStrings[\\\"sql_back_to_work_result_notOkSymptomNegativePart3\\\"],\\r\\n                    \\\"wrap\\\": true\\r\\n                }\\r\\n            ],\\r\\n            \\\"spacing\\\": \\\"Medium\\\"\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"Not OK - Symptomatic + Negative\"},{\"id\":\"c295597e1297-a41c4d4d785893a9-b8e4\",\"type\":\"switch\",\"designer\":{\"xLocation\":440,\"yLocation\":1988},\"cases\":[{\"value\":\"Positive\",\"targetStepId\":\"697f60dd4bcc-a6ba5bb2f8167140-4da0\"},{\"value\":\"Negative\",\"targetStepId\":\"d7843a827b79-c96234c7eaa06cda-d886\"},{\"value\":\"Testing\",\"targetStepId\":\"58fed3b93ee9-85362f9905398671-d5bd\"}],\"condition\":\"scenario.labTestInfo.TestResult \",\"label\":\"Test Result\"},{\"id\":\"8c24cf38d7a9-4b24f45e0af92b9f-dc8f\",\"type\":\"statement\",\"designer\":{\"xLocation\":431,\"yLocation\":2120},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Container\\\",\\r\\n            \\\"bleed\\\": true,\\r\\n            \\\"items\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"ColumnSet\\\",\\r\\n                    \\\"columns\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"stretch\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                                    \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_notOk\\\"],\\r\\n                                    \\\"weight\\\": \\\"Bolder\\\",\\r\\n                                    \\\"size\\\": \\\"Medium\\\"\\r\\n                                }\\r\\n                            ]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                    \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_notOkPositiveSymptom\\\"],\\r\\n                    \\\"wrap\\\": true\\r\\n                }\\r\\n            ],\\r\\n            \\\"spacing\\\": \\\"Medium\\\"\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"Not OK - Positive\"},{\"id\":\"c31b1c26e65f-faf16f6c776889b4-de80\",\"type\":\"statement\",\"designer\":{\"xLocation\":940,\"yLocation\":2809},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Container\\\",\\r\\n            \\\"bleed\\\": true,\\r\\n            \\\"items\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"ColumnSet\\\",\\r\\n                    \\\"columns\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"stretch\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                                    \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_notOk\\\"],\\r\\n                                    \\\"weight\\\": \\\"Bolder\\\",\\r\\n                                    \\\"size\\\": \\\"Medium\\\"\\r\\n                                }\\r\\n                            ]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                    \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_notOkSymptomNoTest\\\"],\\r\\n                    \\\"wrap\\\": true\\r\\n                }\\r\\n            ],\\r\\n            \\\"spacing\\\": \\\"Medium\\\"\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"Not OK - Symptomatic + No test\"},{\"id\":\"1cc1e0f04a2f-cb2e1b17d2ad3af0-a367\",\"type\":\"statement\",\"designer\":{\"xLocation\":491,\"yLocation\":2407},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Container\\\",\\r\\n            \\\"bleed\\\": true,\\r\\n            \\\"items\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"ColumnSet\\\",\\r\\n                    \\\"columns\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"stretch\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                                    \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_notOk\\\"],\\r\\n                                    \\\"weight\\\": \\\"Bolder\\\",\\r\\n                                    \\\"size\\\": \\\"Medium\\\"\\r\\n                                }\\r\\n                            ]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                    \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_notOkSymptomNoTest\\\"],\\r\\n                    \\\"wrap\\\": true\\r\\n                }\\r\\n            ],\\r\\n            \\\"spacing\\\": \\\"Medium\\\"\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"Not OK - Symptomatic + No recent test\"},{\"id\":\"9e68b46a8a6b-3697312c31e55b6a-7127\",\"type\":\"action\",\"label\":\"Primary Symptoms\",\"designer\":{\"xLocation\":580,\"yLocation\":1547,\"next\":\"98e7275cf98e-7cb337657e28a8e8-d65b\"},\"onInit\":\"scenario.isSymptomatic = 0;\\r\\n\\r\\nif(scenario.symptoms.Fever.toLowerCase() === \\\"true\\\"){ \\r\\n    scenario.symptomBit.Fever = 1;\\r\\n    scenario.isSymptomatic = 1; \\r\\n}\\r\\nif(scenario.symptoms.Cough.toLowerCase() === \\\"true\\\"){ \\r\\n    scenario.symptomBit.Cough = 1;\\r\\n    scenario.isSymptomatic = 1;  \\r\\n}\\r\\nif(scenario.symptoms.ShortnessOfBreath.toLowerCase() === \\\"true\\\"){   \\r\\n    scenario.symptomBit.ShortnessOfBreath = 1; \\r\\n    scenario.isSymptomatic = 1; \\r\\n}\\r\\n\\r\\n\\r\\n\"},{\"id\":\"842b792c1b58-36ae706f6a7c6e8c-cbbe\",\"type\":\"prompt\",\"dataType\":\"[customLocalizedStrings[\\\"sql_back_to_work_Yes\\\"], customLocalizedStrings[\\\"sql_back_to_work_No\\\"]]\",\"designer\":{\"xLocation\":289,\"yLocation\":1992,\"listStyle\":3,\"next\":\"2d91eb079d6a-427331d2e45394b3-bf07\"},\"text\":\"customLocalizedStrings[\\\"sql_back_to_work_question_symptomFreePart1\\\"] + \\\" \\\" + scenario.symptomFreeDays + \\\" \\\" + customLocalizedStrings[\\\"sql_back_to_work_question_symptomFreePart2\\\"] \",\"variable\":\"symptomFree\",\"submitTitle\":\"Submit\",\"label\":\"Symptom Free\",\"stringId\":\"stringId_778222a0de94bd30\",\"choiceType\":\"choice\"},{\"id\":\"2d91eb079d6a-427331d2e45394b3-bf07\",\"type\":\"branch\",\"condition\":\"scenario.symptomFree.index === 0\",\"designer\":{\"xLocation\":294,\"yLocation\":2040,\"next\":\"8d6ba9f036f2-fed724465b77247a-a4a4\"},\"label\":\"Symptom Free\",\"targetStepId\":\"06d9bcab7f73-6dfbf8e3a0d865a1-04e2\"},{\"id\":\"6c0cc064506e-f024ae48818ab630-d042\",\"type\":\"statement\",\"designer\":{\"xLocation\":554,\"yLocation\":60,\"next\":\"e54e97d5f13f-8ba39779bf4ddc10-183d\"},\"text\":\"\\\"**DEVELOPER NOTICE:** \\\\n\\\\n \\\" + \\r\\n\\\"1. Make sure you have properly configured the Data Connection details for the Azure functions writing to and reading from Azure SQL Database. \\\\n\\\\n  \\\" +\\r\\n\\\"2. If the scenario is running from Microsoft Teams channel the Teams' user identification will be used. Otherwise we provided a basic user registration, based on Unique ID + year of birth. You should customise it as appropriate for your own needs. \\\\n\\\\n \\\" +\\r\\n\\\"3. Three threshold variables are used with defaults - quarantineDays = 14, validTestDays = 2, symptomFreeDays = 3. Default values are set in Initialize Action element. Based on your company policies, you can set new values.\\\"\",\"label\":\"Developer Notice\",\"stringId\":\"stringId_e61b4141f4733208\"},{\"id\":\"121b4ed83d05-f009b30bd232d973-6762\",\"type\":\"datasource\",\"designer\":{\"xLocation\":731,\"yLocation\":688,\"next\":\"27c68d12e3e4-b1baffc3224e19bc-cfe2\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/PostUserInfo?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"method\":\"post\",\"headers\":\"\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"patientResponse\",\"error\":\"patientResponseError\",\"contentType\":\"raw\",\"payload\":\"{\\r\\n\\t\\\"UserId\\\": scenario.uniqueId,\\r\\n\\t\\\"FullName\\\": scenario.userName,\\r\\n\\t\\\"YearOfBirth\\\": 0,\\r\\n\\t\\\"EmailAddress\\\": scenario.userProfile.email\\r\\n}\",\"label\":\"Create Patient|Write SQL\"},{\"id\":\"27c68d12e3e4-b1baffc3224e19bc-cfe2\",\"type\":\"datasource\",\"designer\":{\"xLocation\":613,\"yLocation\":830,\"next\":\"a4552224189a-20230166032fcf56-9f3b\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/GetSymptomsInfo/' + scenario.uniqueId + '?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"method\":\"get\",\"headers\":\"\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"label\":\"Get Exposure & Symptoms|Read SQL\",\"response\":\"symptomsInfo\",\"error\":\"symptomsInfoError\"},{\"id\":\"0f8289c9bdf7-7410b3e448fa1b0d-bda6\",\"type\":\"action\",\"label\":\"History:Exposure + Symptoms + LabTest\",\"designer\":{\"xLocation\":626,\"yLocation\":940,\"next\":\"541a175727fe-3756b199bfc9842e-fdc0\"},\"onInit\":\"//Logic for Exposure info: Check if there has been any exposure within the last 14 days\\r\\nvar historicIsExposed = 0;\\r\\nvar historyExposureDate = \\\"\\\";\\r\\nvar historyQuarStartDate = \\\"\\\";\\r\\nif(scenario.symptomsInfo != \\\" \\\"){     \\r\\n    if(scenario.symptomsInfo.UserIsExposed == true && scenario.symptomsInfo.QuarantineEndDate == \\\"\\\")\\r\\n    {\\r\\n        //User is in Quarantine period\\r\\n        historicIsExposed = scenario.symptomsInfo.UserIsExposed;\\r\\n        historyExposureDate = scenario.symptomsInfo.ExposureDate; \\r\\n        historyQuarStartDate = scenario.symptomsInfo.QuarantineStartDate;\\r\\n        const exposureDiff = moment(scenario.dateOfEntry).diff(historyQuarStartDate, 'days');   \\r\\n        scenario.remainingQuarantineDays = scenario.quarantineDays - exposureDiff;\\r\\n\\r\\n        //If this is final day of quarantine period, set QuarantineEndDate to today's date\\r\\n        if(scenario.remainingQuarantineDays == 0)\\r\\n        {\\r\\n            scenario.finalQuarantineDay = true;\\r\\n            scenario.quarantineEndDate = scenario.dateOfEntry;\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\nif(historicIsExposed){\\r\\n    scenario.isExposed = 1;\\r\\n    scenario.exposureDetails.exposuredate = historyExposureDate;\\r\\n    scenario.quarantineStartDate = historyQuarStartDate;\\r\\n}\\r\\n\\r\\n//Logic for Lab test info: \\r\\nif(scenario.labTestInfo != \\\" \\\"){   \\r\\n    if(moment(scenario.dateOfEntry).diff(scenario.labTestInfo.TestDate, 'days') < scenario.validTestDays){\\r\\n        scenario.hasValidTestReport = 1;\\r\\n        scenario.testDetails.testDate = scenario.labTestInfo.TestDate;\\r\\n    }\\r\\n}\"},{\"id\":\"55270e4272b7-9fe5cd66a6df4175-37b2\",\"type\":\"action\",\"label\":\"Exposure info\",\"designer\":{\"xLocation\":831,\"yLocation\":1300,\"next\":\"c43dd7b34262-7944d45d90302e08-5868\"},\"onInit\":\"scenario.exposureDiffTooLong = 0;\\r\\nscenario.exposedDate = scenario.exposureDetails.exposuredate;\\r\\n \\r\\nconst today = scenario.dateOfEntry;\\r\\nscenario.exposureDiff = moment(today).diff(scenario.exposedDate, 'days');\\r\\n\\r\\nif(scenario.exposureDiff > scenario.quarantineDays){\\r\\n    scenario.exposureDiffTooLong = 1;\\r\\n    scenario.isExposed = 0;\\r\\n    scenario.exposureDetails.exposuredate = null;\\r\\n}\\r\\nelse{\\r\\n    scenario.quarantineStartDate = today;\\r\\n}\\r\\n\\r\\n\"},{\"id\":\"c43dd7b34262-7944d45d90302e08-5868\",\"type\":\"branch\",\"condition\":\"scenario.exposureDiffTooLong\",\"designer\":{\"xLocation\":780,\"yLocation\":1360,\"next\":\"9d7c47037737-08bcc9620f1150fe-3080\"},\"targetStepId\":\"44a189ac0c91-dc87c2dc77327c9f-c94c\",\"label\":\"Is Exposure diff too long\"},{\"id\":\"44a189ac0c91-dc87c2dc77327c9f-c94c\",\"type\":\"statement\",\"designer\":{\"xLocation\":833,\"yLocation\":1420,\"next\":\"9d7c47037737-08bcc9620f1150fe-3080\"},\"text\":\"customLocalizedStrings[\\\"sql_back_to_work_info_exposureBeyond_Part1\\\"] + \\\" \\\" + scenario.quarantineDays + \\\" \\\" + customLocalizedStrings[\\\"sql_back_to_work_info_exposureBeyond_Part2\\\"]\",\"stringId\":\"stringId_bd946ce2abe2c3ea\",\"label\":\"Exposure beyond\"},{\"id\":\"728138c5684d-412bbe2d9568a980-8f1d\",\"type\":\"datasource\",\"designer\":{\"xLocation\":587,\"yLocation\":2620,\"next\":\"cf99f6ec3565-1863ba07ba3cb51d-5670\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/PostLabTestInfo?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"contentType\":\"raw\",\"method\":\"post\",\"headers\":\"{\\r\\n    \\\"Content-Type\\\":\\\"application/json\\\"\\r\\n}\",\"payload\":\"{\\r\\n    \\\"UserId\\\": scenario.uniqueId,   \\r\\n    \\\"DateOfEntry\\\": scenario.dateOfEntry,   \\r\\n    \\\"TestType\\\": null,   \\r\\n    \\\"TestDate\\\": scenario.testDetails.testDate,   \\r\\n    \\\"TestResult\\\": scenario.testResult.entity\\r\\n}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"label\":\"Post LabTest|Write SQL\",\"response\":\"labTestPostResponse\",\"error\":\"labTestPostError\"},{\"id\":\"77afe970de78-67ca043a5f95012f-52f2\",\"type\":\"datasource\",\"designer\":{\"xLocation\":780,\"yLocation\":2694,\"next\":\"dd35b5535fe4-35d64a935de1ac24-7483\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/PostLabTestInfo?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"contentType\":\"raw\",\"method\":\"post\",\"headers\":\"{\\r\\n    \\\"Content-Type\\\":\\\"application/json\\\"\\r\\n}\",\"payload\":\"{\\r\\n    \\\"UserId\\\": scenario.uniqueId,   \\r\\n    \\\"DateOfEntry\\\": scenario.dateOfEntry,   \\r\\n    \\\"TestType\\\": null,   \\r\\n    \\\"TestDate\\\": scenario.testDetails.testDate,   \\r\\n    \\\"TestResult\\\": scenario.testResult.entity\\r\\n}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"label\":\"Post LabTest|Write SQL\",\"response\":\"labTestPostResponse\",\"error\":\"labTestPostError\"},{\"id\":\"9d29a4619fce-2247ea45d5f3ecb0-4ac8\",\"type\":\"datasource\",\"designer\":{\"xLocation\":940,\"yLocation\":2689,\"next\":\"0d8775994de2-b9e131206db37ddd-5050\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/PostLabTestInfo?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"contentType\":\"raw\",\"method\":\"post\",\"headers\":\"{\\r\\n    \\\"Content-Type\\\":\\\"application/json\\\"\\r\\n}\",\"payload\":\"{\\r\\n    \\\"UserId\\\": scenario.uniqueId,   \\r\\n    \\\"DateOfEntry\\\": scenario.dateOfEntry,   \\r\\n    \\\"TestType\\\": null,   \\r\\n    \\\"TestDate\\\": scenario.testDetails.testDate,   \\r\\n    \\\"TestResult\\\": scenario.testResult.entity\\r\\n}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"label\":\"Post LabTest|Write SQL\",\"response\":\"labTestPostResponse\",\"error\":\"labTestPostError\"},{\"id\":\"a4552224189a-20230166032fcf56-9f3b\",\"type\":\"datasource\",\"designer\":{\"xLocation\":620,\"yLocation\":892,\"next\":\"0f8289c9bdf7-7410b3e448fa1b0d-bda6\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/GetLabTestInfo/' + scenario.uniqueId + '?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"method\":\"get\",\"headers\":\"\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"label\":\"Get LabTestInfo|Read SQL\",\"response\":\"labTestInfo\",\"error\":\"labTestInfoError\"},{\"id\":\"8068cc6e6c41-60acb25977a76fa6-96c6\",\"type\":\"prompt\",\"dataType\":\"object\",\"designer\":{\"xLocation\":620,\"yLocation\":2352,\"next\":\"ecdb3e7c817b-637704902fc13016-f186\"},\"variable\":\"testDetails\",\"stringId\":\"stringId_d27596e1ef098091\",\"label\":\"Test Details\",\"submitTitle\":\"\\\"Submit\\\"\",\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n  \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n  \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n  \\\"version\\\": \\\"1.0\\\",\\r\\n  \\\"body\\\": [\\r\\n    {\\r\\n      \\\"type\\\": \\\"TextBlock\\\",\\r\\n      \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_question_TestDate\\\"],\\r\\n      \\\"wrap\\\":true\\r\\n    },\\r\\n    {\\r\\n      \\\"type\\\": \\\"Input.Date\\\",\\r\\n      \\\"id\\\": \\\"testDate\\\",\\r\\n      \\\"value\\\": \\\"\\\"\\r\\n    }\\r\\n  ],\\r\\n  \\\"actions\\\": [\\r\\n    {\\r\\n      \\\"type\\\": \\\"Action.Submit\\\",\\r\\n      \\\"title\\\": customLocalizedStrings[\\\"sql_back_to_work_Submit\\\"]\\r\\n    }\\r\\n  ]\\r\\n}\\r\\n\"}]},{\"id\":\"ecdb3e7c817b-637704902fc13016-f186\",\"type\":\"branch\",\"condition\":\"scenario.testDetails.testDate == \\\"\\\" \",\"designer\":{\"xLocation\":680,\"yLocation\":2400,\"next\":\"2f749d8f7166-513346155ff659e9-a742\",\"reverse\":false},\"targetStepId\":\"5d63fc047707-37a196d1e753efba-1567\",\"label\":\"Required fields\"},{\"id\":\"5d63fc047707-37a196d1e753efba-1567\",\"type\":\"statement\",\"designer\":{\"xLocation\":709,\"yLocation\":2360,\"next\":\"8068cc6e6c41-60acb25977a76fa6-96c6\"},\"text\":\"customLocalizedStrings[\\\"sql_back_to_work_input_Date\\\"]\",\"stringId\":\"stringId_ffbe2165fa971e26\",\"label\":\"Fill all fields\"},{\"id\":\"06d9bcab7f73-6dfbf8e3a0d865a1-04e2\",\"type\":\"datasource\",\"designer\":{\"xLocation\":340,\"yLocation\":2100,\"next\":\"856040320d25-fa50d7986ad0ca80-c69d\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/PostSymptomsInfo?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"contentType\":\"raw\",\"method\":\"post\",\"headers\":\"{\\r\\n    \\\"Content-Type\\\":\\\"application/json\\\"\\r\\n}\",\"payload\":\"{\\r\\n\\t\\\"UserId\\\": scenario.uniqueId,\\r\\n\\t\\\"DateOfEntry\\\": scenario.dateOfEntry,\\r\\n\\t\\\"UserIsExposed\\\": scenario.isExposed,\\r\\n\\t\\\"ExposureDate\\\": scenario.exposureDetails.exposuredate,\\r\\n    \\\"QuarantineStartDate\\\": scenario.quarantineStartDate,\\r\\n    \\\"QuarantineEndDate\\\": scenario.quarantineEndDate,\\r\\n\\t\\\"IsSymptomatic\\\": scenario.isSymptomatic,\\r\\n\\t\\\"SymptomFever\\\": scenario.symptomBit.Fever,\\r\\n\\t\\\"SymptomCough\\\": scenario.symptomBit.Cough,\\r\\n\\t\\\"SymptomShortnessOfBreath\\\": scenario.symptomBit.ShortnessOfBreath,\\r\\n\\t\\\"SymptomChills\\\": scenario.symptomBit.Chills,\\r\\n\\t\\\"SymptomMusclePain\\\": scenario.symptomBit.MusclePain,\\r\\n\\t\\\"SymptomSoreThroat\\\": scenario.symptomBit.SoreThroat,\\r\\n\\t\\\"SymptomLossOfSmellTaste\\\": scenario.symptomBit.LossOfSmellTaste,\\r\\n\\t\\\"SymptomVomiting\\\": scenario.symptomBit.Vomiting,\\r\\n\\t\\\"SymptomDiarrhea\\\": scenario.symptomBit.Diarrhea,\\r\\n\\t\\\"Temperature\\\": scenario.measuredTemperature,\\r\\n\\t\\\"UserIsSymptomatic\\\": scenario.UserIsSymptomatic,\\r\\n    \\\"ClearToWorkToday\\\" : 1,\\r\\n\\t\\\"GUID\\\": null\\r\\n}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"symptomPostResponse\",\"error\":\"symptomPostError\",\"label\":\"Post Exposure & Symptoms|Write SQL\"},{\"id\":\"697f60dd4bcc-a6ba5bb2f8167140-4da0\",\"type\":\"datasource\",\"designer\":{\"xLocation\":430,\"yLocation\":2087,\"next\":\"8c24cf38d7a9-4b24f45e0af92b9f-dc8f\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/PostSymptomsInfo?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"contentType\":\"raw\",\"method\":\"post\",\"headers\":\"{\\r\\n    \\\"Content-Type\\\":\\\"application/json\\\"\\r\\n}\",\"payload\":\"{\\r\\n\\t\\\"UserId\\\": scenario.uniqueId,\\r\\n\\t\\\"DateOfEntry\\\": scenario.dateOfEntry,\\r\\n\\t\\\"UserIsExposed\\\": scenario.isExposed,\\r\\n\\t\\\"ExposureDate\\\": scenario.exposureDetails.exposuredate,\\r\\n    \\\"QuarantineStartDate\\\": scenario.quarantineStartDate,\\r\\n    \\\"QuarantineEndDate\\\": scenario.quarantineEndDate,\\r\\n\\t\\\"IsSymptomatic\\\": scenario.isSymptomatic,\\r\\n\\t\\\"SymptomFever\\\": scenario.symptomBit.Fever,\\r\\n\\t\\\"SymptomCough\\\": scenario.symptomBit.Cough,\\r\\n\\t\\\"SymptomShortnessOfBreath\\\": scenario.symptomBit.ShortnessOfBreath,\\r\\n\\t\\\"SymptomChills\\\": scenario.symptomBit.Chills,\\r\\n\\t\\\"SymptomMusclePain\\\": scenario.symptomBit.MusclePain,\\r\\n\\t\\\"SymptomSoreThroat\\\": scenario.symptomBit.SoreThroat,\\r\\n\\t\\\"SymptomLossOfSmellTaste\\\": scenario.symptomBit.LossOfSmellTaste,\\r\\n\\t\\\"SymptomVomiting\\\": scenario.symptomBit.Vomiting,\\r\\n\\t\\\"SymptomDiarrhea\\\": scenario.symptomBit.Diarrhea,\\r\\n\\t\\\"Temperature\\\": scenario.measuredTemperature,\\r\\n\\t\\\"UserIsSymptomatic\\\": scenario.UserIsSymptomatic,\\r\\n    \\\"ClearToWorkToday\\\" : 0,\\r\\n\\t\\\"GUID\\\": null\\r\\n}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"symptomPostResponse\",\"error\":\"symptomPostError\",\"label\":\"Post Exposure & Symptoms|Write SQL\"},{\"id\":\"8d6ba9f036f2-fed724465b77247a-a4a4\",\"type\":\"action\",\"label\":\"User Is Symptomatic\",\"designer\":{\"xLocation\":234,\"yLocation\":2140,\"next\":\"7c6bf2a495d3-fb2521936b683020-12ad\"},\"onInit\":\"scenario.UserIsSymptomatic = 1;\"},{\"id\":\"d7843a827b79-c96234c7eaa06cda-d886\",\"type\":\"datasource\",\"designer\":{\"xLocation\":527,\"yLocation\":2089,\"next\":\"6312885b9664-2e64925009f06ce5-fb4d\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/PostSymptomsInfo?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"contentType\":\"raw\",\"method\":\"post\",\"headers\":\"{\\r\\n    \\\"Content-Type\\\":\\\"application/json\\\"\\r\\n}\",\"payload\":\"{\\r\\n\\t\\\"UserId\\\": scenario.uniqueId,\\r\\n\\t\\\"DateOfEntry\\\": scenario.dateOfEntry,\\r\\n\\t\\\"UserIsExposed\\\": scenario.isExposed,\\r\\n\\t\\\"ExposureDate\\\": scenario.exposureDetails.exposuredate,\\r\\n    \\\"QuarantineStartDate\\\": scenario.quarantineStartDate,\\r\\n    \\\"QuarantineEndDate\\\": scenario.quarantineEndDate,\\r\\n\\t\\\"IsSymptomatic\\\": scenario.isSymptomatic,\\r\\n\\t\\\"SymptomFever\\\": scenario.symptomBit.Fever,\\r\\n\\t\\\"SymptomCough\\\": scenario.symptomBit.Cough,\\r\\n\\t\\\"SymptomShortnessOfBreath\\\": scenario.symptomBit.ShortnessOfBreath,\\r\\n\\t\\\"SymptomChills\\\": scenario.symptomBit.Chills,\\r\\n\\t\\\"SymptomMusclePain\\\": scenario.symptomBit.MusclePain,\\r\\n\\t\\\"SymptomSoreThroat\\\": scenario.symptomBit.SoreThroat,\\r\\n\\t\\\"SymptomLossOfSmellTaste\\\": scenario.symptomBit.LossOfSmellTaste,\\r\\n\\t\\\"SymptomVomiting\\\": scenario.symptomBit.Vomiting,\\r\\n\\t\\\"SymptomDiarrhea\\\": scenario.symptomBit.Diarrhea,\\r\\n\\t\\\"Temperature\\\": scenario.measuredTemperature,\\r\\n\\t\\\"UserIsSymptomatic\\\": scenario.UserIsSymptomatic,\\r\\n    \\\"ClearToWorkToday\\\" : 1,\\r\\n\\t\\\"GUID\\\": null\\r\\n}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"symptomPostResponse\",\"error\":\"symptomPostError\",\"label\":\"Post Exposure & Symptoms|Write SQL\"},{\"id\":\"d225c35c1bae-19ab44ba38d94849-3fef\",\"type\":\"datasource\",\"designer\":{\"xLocation\":491,\"yLocation\":2360,\"next\":\"1cc1e0f04a2f-cb2e1b17d2ad3af0-a367\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/PostSymptomsInfo?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"contentType\":\"raw\",\"method\":\"post\",\"headers\":\"{\\r\\n    \\\"Content-Type\\\":\\\"application/json\\\"\\r\\n}\",\"payload\":\"{\\r\\n\\t\\\"UserId\\\": scenario.uniqueId,\\r\\n\\t\\\"DateOfEntry\\\": scenario.dateOfEntry,\\r\\n\\t\\\"UserIsExposed\\\": scenario.isExposed,\\r\\n\\t\\\"ExposureDate\\\": scenario.exposureDetails.exposuredate,\\r\\n    \\\"QuarantineStartDate\\\": scenario.quarantineStartDate,\\r\\n    \\\"QuarantineEndDate\\\": scenario.quarantineEndDate,\\r\\n\\t\\\"IsSymptomatic\\\": scenario.isSymptomatic,\\r\\n\\t\\\"SymptomFever\\\": scenario.symptomBit.Fever,\\r\\n\\t\\\"SymptomCough\\\": scenario.symptomBit.Cough,\\r\\n\\t\\\"SymptomShortnessOfBreath\\\": scenario.symptomBit.ShortnessOfBreath,\\r\\n\\t\\\"SymptomChills\\\": scenario.symptomBit.Chills,\\r\\n\\t\\\"SymptomMusclePain\\\": scenario.symptomBit.MusclePain,\\r\\n\\t\\\"SymptomSoreThroat\\\": scenario.symptomBit.SoreThroat,\\r\\n\\t\\\"SymptomLossOfSmellTaste\\\": scenario.symptomBit.LossOfSmellTaste,\\r\\n\\t\\\"SymptomVomiting\\\": scenario.symptomBit.Vomiting,\\r\\n\\t\\\"SymptomDiarrhea\\\": scenario.symptomBit.Diarrhea,\\r\\n\\t\\\"Temperature\\\": scenario.measuredTemperature,\\r\\n\\t\\\"UserIsSymptomatic\\\": scenario.UserIsSymptomatic,\\r\\n    \\\"ClearToWorkToday\\\" : 0,\\r\\n\\t\\\"GUID\\\": null\\r\\n}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"symptomPostResponse\",\"error\":\"symptomPostError\",\"label\":\"Post Exposure & Symptoms|Write SQL\"},{\"id\":\"cf99f6ec3565-1863ba07ba3cb51d-5670\",\"type\":\"datasource\",\"designer\":{\"xLocation\":700,\"yLocation\":2749,\"next\":\"c1fa3baf4764-a723295ed283e99c-001d\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/PostSymptomsInfo?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"contentType\":\"raw\",\"method\":\"post\",\"headers\":\"{\\r\\n    \\\"Content-Type\\\":\\\"application/json\\\"\\r\\n}\",\"payload\":\"{\\r\\n\\t\\\"UserId\\\": scenario.uniqueId,\\r\\n\\t\\\"DateOfEntry\\\": scenario.dateOfEntry,\\r\\n\\t\\\"UserIsExposed\\\": scenario.isExposed,\\r\\n\\t\\\"ExposureDate\\\": scenario.exposureDetails.exposuredate,\\r\\n    \\\"QuarantineStartDate\\\": scenario.quarantineStartDate,\\r\\n    \\\"QuarantineEndDate\\\": scenario.quarantineEndDate,\\r\\n\\t\\\"IsSymptomatic\\\": scenario.isSymptomatic,\\r\\n\\t\\\"SymptomFever\\\": scenario.symptomBit.Fever,\\r\\n\\t\\\"SymptomCough\\\": scenario.symptomBit.Cough,\\r\\n\\t\\\"SymptomShortnessOfBreath\\\": scenario.symptomBit.ShortnessOfBreath,\\r\\n\\t\\\"SymptomChills\\\": scenario.symptomBit.Chills,\\r\\n\\t\\\"SymptomMusclePain\\\": scenario.symptomBit.MusclePain,\\r\\n\\t\\\"SymptomSoreThroat\\\": scenario.symptomBit.SoreThroat,\\r\\n\\t\\\"SymptomLossOfSmellTaste\\\": scenario.symptomBit.LossOfSmellTaste,\\r\\n\\t\\\"SymptomVomiting\\\": scenario.symptomBit.Vomiting,\\r\\n\\t\\\"SymptomDiarrhea\\\": scenario.symptomBit.Diarrhea,\\r\\n\\t\\\"Temperature\\\": scenario.measuredTemperature,\\r\\n\\t\\\"UserIsSymptomatic\\\": scenario.UserIsSymptomatic,\\r\\n    \\\"ClearToWorkToday\\\" : 0,\\r\\n\\t\\\"GUID\\\": null\\r\\n}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"symptomPostResponse\",\"error\":\"symptomPostError\",\"label\":\"Post Exposure & Symptoms|Write SQL\"},{\"id\":\"dd35b5535fe4-35d64a935de1ac24-7483\",\"type\":\"datasource\",\"designer\":{\"xLocation\":820,\"yLocation\":2749,\"next\":\"086fa067862e-281017d6be482ea9-3fae\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/PostSymptomsInfo?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"contentType\":\"raw\",\"method\":\"post\",\"headers\":\"{\\r\\n    \\\"Content-Type\\\":\\\"application/json\\\"\\r\\n}\",\"payload\":\"{\\r\\n\\t\\\"UserId\\\": scenario.uniqueId,\\r\\n\\t\\\"DateOfEntry\\\": scenario.dateOfEntry,\\r\\n\\t\\\"UserIsExposed\\\": scenario.isExposed,\\r\\n\\t\\\"ExposureDate\\\": scenario.exposureDetails.exposuredate,\\r\\n    \\\"QuarantineStartDate\\\": scenario.quarantineStartDate,\\r\\n    \\\"QuarantineEndDate\\\": scenario.quarantineEndDate,\\r\\n\\t\\\"IsSymptomatic\\\": scenario.isSymptomatic,\\r\\n\\t\\\"SymptomFever\\\": scenario.symptomBit.Fever,\\r\\n\\t\\\"SymptomCough\\\": scenario.symptomBit.Cough,\\r\\n\\t\\\"SymptomShortnessOfBreath\\\": scenario.symptomBit.ShortnessOfBreath,\\r\\n\\t\\\"SymptomChills\\\": scenario.symptomBit.Chills,\\r\\n\\t\\\"SymptomMusclePain\\\": scenario.symptomBit.MusclePain,\\r\\n\\t\\\"SymptomSoreThroat\\\": scenario.symptomBit.SoreThroat,\\r\\n\\t\\\"SymptomLossOfSmellTaste\\\": scenario.symptomBit.LossOfSmellTaste,\\r\\n\\t\\\"SymptomVomiting\\\": scenario.symptomBit.Vomiting,\\r\\n\\t\\\"SymptomDiarrhea\\\": scenario.symptomBit.Diarrhea,\\r\\n\\t\\\"Temperature\\\": scenario.measuredTemperature,\\r\\n\\t\\\"UserIsSymptomatic\\\": scenario.UserIsSymptomatic,\\r\\n    \\\"ClearToWorkToday\\\" : 0,\\r\\n\\t\\\"GUID\\\": null\\r\\n}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"symptomPostResponse\",\"error\":\"symptomPostError\",\"label\":\"Post Exposure & Symptoms|Write SQL\"},{\"id\":\"0d8775994de2-b9e131206db37ddd-5050\",\"type\":\"datasource\",\"designer\":{\"xLocation\":940,\"yLocation\":2749,\"next\":\"c31b1c26e65f-faf16f6c776889b4-de80\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/PostSymptomsInfo?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"contentType\":\"raw\",\"method\":\"post\",\"headers\":\"{\\r\\n    \\\"Content-Type\\\":\\\"application/json\\\"\\r\\n}\",\"payload\":\"{\\r\\n\\t\\\"UserId\\\": scenario.uniqueId,\\r\\n\\t\\\"DateOfEntry\\\": scenario.dateOfEntry,\\r\\n\\t\\\"UserIsExposed\\\": scenario.isExposed,\\r\\n\\t\\\"ExposureDate\\\": scenario.exposureDetails.exposuredate,\\r\\n    \\\"QuarantineStartDate\\\": scenario.quarantineStartDate,\\r\\n    \\\"QuarantineEndDate\\\": scenario.quarantineEndDate,\\r\\n\\t\\\"IsSymptomatic\\\": scenario.isSymptomatic,\\r\\n\\t\\\"SymptomFever\\\": scenario.symptomBit.Fever,\\r\\n\\t\\\"SymptomCough\\\": scenario.symptomBit.Cough,\\r\\n\\t\\\"SymptomShortnessOfBreath\\\": scenario.symptomBit.ShortnessOfBreath,\\r\\n\\t\\\"SymptomChills\\\": scenario.symptomBit.Chills,\\r\\n\\t\\\"SymptomMusclePain\\\": scenario.symptomBit.MusclePain,\\r\\n\\t\\\"SymptomSoreThroat\\\": scenario.symptomBit.SoreThroat,\\r\\n\\t\\\"SymptomLossOfSmellTaste\\\": scenario.symptomBit.LossOfSmellTaste,\\r\\n\\t\\\"SymptomVomiting\\\": scenario.symptomBit.Vomiting,\\r\\n\\t\\\"SymptomDiarrhea\\\": scenario.symptomBit.Diarrhea,\\r\\n\\t\\\"Temperature\\\": scenario.measuredTemperature,\\r\\n\\t\\\"UserIsSymptomatic\\\": scenario.UserIsSymptomatic,\\r\\n    \\\"ClearToWorkToday\\\" : 0,\\r\\n\\t\\\"GUID\\\": null\\r\\n}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"symptomPostResponse\",\"error\":\"symptomPostError\",\"label\":\"Post Exposure & Symptoms|Write SQL\"},{\"id\":\"0475be8c85ac-86d424853666e29d-3f67\",\"type\":\"action\",\"label\":\"Set Entity = Testing\",\"designer\":{\"xLocation\":946,\"yLocation\":2620,\"next\":\"9d29a4619fce-2247ea45d5f3ecb0-4ac8\"},\"onInit\":\"scenario.testResult.entity = \\\"Testing\\\"\"},{\"id\":\"6cbf7448a1c0-31aa7256a70032cf-d615\",\"type\":\"action\",\"label\":\"isExposed\",\"designer\":{\"xLocation\":707,\"yLocation\":1100,\"next\":\"032b5df2d815-14090dddef282916-6374\"},\"onInit\":\"scenario.isExposed = 0;\\r\\nif(scenario.isExposedbtn.index === 0)\\r\\n{\\r\\n    scenario.isExposed = 1;\\r\\n}\"},{\"id\":\"58fed3b93ee9-85362f9905398671-d5bd\",\"type\":\"datasource\",\"designer\":{\"xLocation\":614,\"yLocation\":2088,\"next\":\"eb6185570287-b083bc6aa56c7186-a629\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/PostSymptomsInfo?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"contentType\":\"raw\",\"method\":\"post\",\"headers\":\"{\\r\\n    \\\"Content-Type\\\":\\\"application/json\\\"\\r\\n}\",\"payload\":\"{\\r\\n\\t\\\"UserId\\\": uniqueId,\\r\\n\\t\\\"DateOfEntry\\\": scenario.dateOfEntry,\\r\\n\\t\\\"UserIsExposed\\\": scenario.isExposed,\\r\\n\\t\\\"ExposureDate\\\": scenario.exposureDetails.exposuredate,\\r\\n    \\\"QuarantineStartDate\\\": scenario.quarantineStartDate,\\r\\n    \\\"QuarantineEndDate\\\": scenario.quarantineEndDate,\\r\\n\\t\\\"IsSymptomatic\\\": scenario.isSymptomatic,\\r\\n\\t\\\"SymptomFever\\\": scenario.symptomBit.Fever,\\r\\n\\t\\\"SymptomCough\\\": scenario.symptomBit.Cough,\\r\\n\\t\\\"SymptomShortnessOfBreath\\\": scenario.symptomBit.ShortnessOfBreath,\\r\\n\\t\\\"SymptomChills\\\": scenario.symptomBit.Chills,\\r\\n\\t\\\"SymptomMusclePain\\\": scenario.symptomBit.MusclePain,\\r\\n\\t\\\"SymptomSoreThroat\\\": scenario.symptomBit.SoreThroat,\\r\\n\\t\\\"SymptomLossOfSmellTaste\\\": scenario.symptomBit.LossOfSmellTaste,\\r\\n\\t\\\"SymptomVomiting\\\": scenario.symptomBit.Vomiting,\\r\\n\\t\\\"SymptomDiarrhea\\\": scenario.symptomBit.Diarrhea,\\r\\n\\t\\\"Temperature\\\": scenario.measuredTemperature,\\r\\n\\t\\\"UserIsSymptomatic\\\": scenario.UserIsSymptomatic,\\r\\n    \\\"ClearToWorkToday\\\" : 1,\\r\\n\\t\\\"GUID\\\": null\\r\\n}\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"symptomPostResponse\",\"error\":\"symptomPostError\",\"label\":\"Post Exposure & Symptoms|Write SQL\"},{\"id\":\"eb6185570287-b083bc6aa56c7186-a629\",\"type\":\"statement\",\"designer\":{\"xLocation\":620,\"yLocation\":2120},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n    \\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n    \\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n    \\\"version\\\": \\\"1.0\\\",\\r\\n    \\\"body\\\": [\\r\\n        {\\r\\n            \\\"type\\\": \\\"Container\\\",\\r\\n            \\\"bleed\\\": true,\\r\\n            \\\"items\\\": [\\r\\n                {\\r\\n                    \\\"type\\\": \\\"ColumnSet\\\",\\r\\n                    \\\"columns\\\": [\\r\\n                        {\\r\\n                            \\\"type\\\": \\\"Column\\\",\\r\\n                            \\\"width\\\": \\\"stretch\\\",\\r\\n                            \\\"items\\\": [\\r\\n                                {\\r\\n                                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                                    \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_okPrecaution\\\"],\\r\\n                                    \\\"weight\\\": \\\"Bolder\\\",\\r\\n                                    \\\"size\\\": \\\"Medium\\\"\\r\\n                                }\\r\\n                            ]\\r\\n                        }\\r\\n                    ]\\r\\n                },\\r\\n                {\\r\\n                    \\\"type\\\": \\\"TextBlock\\\",\\r\\n                    \\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_okWithTest\\\"],\\r\\n                    \\\"wrap\\\": true\\r\\n                }\\r\\n            ],\\r\\n            \\\"spacing\\\": \\\"Medium\\\"\\r\\n        }\\r\\n    ]\\r\\n}\"}],\"label\":\"OK - need Test\"},{\"id\":\"6312885b9664-2e64925009f06ce5-fb4d\",\"type\":\"statement\",\"designer\":{\"xLocation\":527,\"yLocation\":2120},\"layout\":\"vertical\",\"attachment\":[{\"type\":\"AdaptiveCard\",\"cardCode\":\"{\\r\\n\\t\\\"$schema\\\": \\\"http://adaptivecards.io/schemas/adaptive-card.json\\\",\\r\\n\\t\\\"type\\\": \\\"AdaptiveCard\\\",\\r\\n\\t\\\"version\\\": \\\"1.0\\\",\\r\\n\\t\\\"body\\\": [{\\r\\n\\t\\t\\\"type\\\": \\\"Container\\\",\\r\\n\\t\\t\\\"bleed\\\": true,\\r\\n\\t\\t\\\"items\\\": [{\\r\\n\\t\\t\\t\\t\\\"type\\\": \\\"ColumnSet\\\",\\r\\n\\t\\t\\t\\t\\\"columns\\\": [{\\r\\n\\t\\t\\t\\t\\t\\t\\\"type\\\": \\\"Column\\\",\\r\\n\\t\\t\\t\\t\\t\\t\\\"width\\\": \\\"stretch\\\",\\r\\n\\t\\t\\t\\t\\t\\t\\\"items\\\": [{\\r\\n\\t\\t\\t\\t\\t\\t\\t\\\"type\\\": \\\"TextBlock\\\",\\r\\n\\t\\t\\t\\t\\t\\t\\t\\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_ok\\\"],\\r\\n\\t\\t\\t\\t\\t\\t\\t\\\"weight\\\": \\\"Bolder\\\",\\r\\n\\t\\t\\t\\t\\t\\t\\t\\\"size\\\": \\\"Medium\\\"\\r\\n\\t\\t\\t\\t\\t\\t}]\\r\\n\\t\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t]\\r\\n\\t\\t\\t},            \\r\\n\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\\"type\\\": \\\"TextBlock\\\",\\r\\n\\t\\t\\t\\t\\\"text\\\": customLocalizedStrings[\\\"sql_back_to_work_result_okSafe\\\"],\\r\\n\\t\\t\\t\\t\\\"wrap\\\": true\\r\\n\\t\\t\\t}\\r\\n\\t\\t],\\r\\n\\t\\t\\\"spacing\\\": \\\"Medium\\\"\\r\\n\\t}]\\r\\n}\"}],\"label\":\"OK\"},{\"id\":\"c410065a8741-5b15ba6150467a1c-f454\",\"type\":\"action\",\"label\":\"End quarantine\",\"designer\":{\"xLocation\":680,\"yLocation\":2613,\"next\":\"714aee948488-dc460a046820efdc-31c9\"},\"onInit\":\"//check if user is in quarantine but NOT symptomatic today \\nif(scenario.isExposed && !(scenario.isSymptomatic))\\n{    \\n    scenario.quarantineEndDate = scenario.dateOfEntry;\\n}\\n\"},{\"id\":\"65881b7658e4-7680f899fed744f3-eab9\",\"type\":\"statement\",\"designer\":{\"xLocation\":460,\"yLocation\":1360,\"next\":\"9d7c47037737-08bcc9620f1150fe-3080\"},\"text\":\"customLocalizedStrings[\\\"sql_back_to_work_info_remainingQuarantineDays\\\"] + \\\" \\\" + scenario.remainingQuarantineDays\",\"stringId\":\"stringId_ca41131bea733122\",\"label\":\"Remaining quarantine days\"},{\"id\":\"8d1b3a3efa70-6eeacb350ffa7ba6-4b43\",\"type\":\"branch\",\"condition\":\"scenario.finalQuarantineDay == true\",\"designer\":{\"xLocation\":507,\"yLocation\":1120,\"next\":\"65881b7658e4-7680f899fed744f3-eab9\"},\"targetStepId\":\"6b1be5b5b61f-60a238357ac2f6f9-f269\"},{\"id\":\"6b1be5b5b61f-60a238357ac2f6f9-f269\",\"type\":\"statement\",\"designer\":{\"xLocation\":562,\"yLocation\":1251,\"next\":\"9d7c47037737-08bcc9620f1150fe-3080\"},\"text\":\"customLocalizedStrings[\\\"sql_back_to_work_info_finalQuarantineDay_Part1\\\"] + \\\" \\\" + scenario.quarantineDays + \\\" \\\" + customLocalizedStrings[\\\"sql_back_to_work_info_finalQuarantineDay_Part2\\\"]\",\"stringId\":\"stringId_2703f3dba75c0a58\",\"label\":\"Final Quarantine Day\"},{\"id\":\"714aee948488-dc460a046820efdc-31c9\",\"type\":\"statement\",\"designer\":{\"xLocation\":771,\"yLocation\":2646,\"next\":\"77afe970de78-67ca043a5f95012f-52f2\"},\"text\":\"customLocalizedStrings[\\\"sql_back_to_work_info_endingQuarantine\\\"]\",\"stringId\":\"stringId_10ddb9bed72de7e4\",\"label\":\"Ending quarantine\"},{\"id\":\"b29cdc03818a-c70a81c5069d9fdb-ff3d\",\"type\":\"branch\",\"condition\":\"scenario.isTeams\",\"designer\":{\"xLocation\":560,\"yLocation\":149,\"next\":\"92bd60240e29-f52d41623cdaf4bf-6190\"},\"label\":\"is Teams?\",\"targetStepId\":\"08994b562124-d01d28747546668b-2fbf\"},{\"id\":\"08994b562124-d01d28747546668b-2fbf\",\"type\":\"action\",\"label\":\"Teams Details\",\"designer\":{\"xLocation\":627,\"yLocation\":220,\"next\":\"7e83b0c59ee5-35ede7f0f650db9c-69dc\"},\"onInit\":\"scenario.uniqueId = session.message[\\\"user\\\"].aadObjectId; \\nscenario.userName = session.message[\\\"user\\\"].name;\\nscenario.userProfile = {\\n    givenName: \\\"\\\",\\n    surname: \\\"\\\",\\n    displayName: scenario.userName,\\n    jobTitle: \\\"\\\",\\n    email: \\\"\\\",\\n    mobile: \\\"\\\"\\n}\\n//Get TeamsAddress for proactive trigger\\nvar userAddr = session.message.address;\\ndelete userAddr[\\\"id\\\"];\\nscenario.teamsAddress = JSON.stringify(userAddr);\\n\\n//URL for Graph API get logged in user details\\nscenario.baseURL = 'https://graph.microsoft.com/v1.0/users/' + scenario.uniqueId;\\n\\n//Get Azure tenant ID\\nscenario.tenantId = JSON.parse(JSON.stringify(session.message.address.conversation)).tenantId;\"},{\"id\":\"7e83b0c59ee5-35ede7f0f650db9c-69dc\",\"type\":\"datasource\",\"designer\":{\"xLocation\":560,\"yLocation\":300,\"next\":\"957bbaca58cc-ccb513e2263c755f-3e85\"},\"dataConnection\":\"\",\"urlBase\":\"'https://{azurefunctionsname}.azurewebsites.net/api/GetUserInfo/' + scenario.uniqueId + '?code={code}'\",\"urlPath\":\"\",\"urlParams\":\"\",\"method\":\"get\",\"headers\":\"\",\"opJson\":true,\"opResolveWithFullResponse\":false,\"response\":\"patientResponse\",\"error\":\"patientResponseError\",\"label\":\"Get Patient|Read SQL\"},{\"id\":\"957bbaca58cc-ccb513e2263c755f-3e85\",\"type\":\"branch\",\"condition\":\"scenario.patientResponse.UserId != null\",\"designer\":{\"xLocation\":570,\"yLocation\":346,\"reverse\":true,\"next\":\"c557c11d16b0-4a843bc1922cd9ef-665f\"},\"label\":\"Patient Exists\",\"targetStepId\":\"27c68d12e3e4-b1baffc3224e19bc-cfe2\"}],\"interrupting\":false,\"breaking\":false,\"returningMessage\":\"\"}"
}